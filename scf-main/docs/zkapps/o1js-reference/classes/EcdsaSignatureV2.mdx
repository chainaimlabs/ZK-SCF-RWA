## Deprecated

`EcdsaSignature` is now deprecated and will be removed in a future release. Please use [EcdsaSignatureV2](EcdsaSignatureV2.mdx) instead.

## Extends

- [`EcdsaSignature`](EcdsaSignature.mdx)

## Constructors

### new EcdsaSignatureV2()

```ts
new EcdsaSignatureV2(signature: {
  "r": number | bigint | Field3 | AlmostForeignField;
  "s": number | bigint | Field3 | AlmostForeignField;
 }): EcdsaSignatureV2
```

#### Parameters

• **signature**

• **signature.r**: `number` \| `bigint` \| `Field3` \| [`AlmostForeignField`](AlmostForeignField.mdx)

• **signature.s**: `number` \| `bigint` \| `Field3` \| [`AlmostForeignField`](AlmostForeignField.mdx)

#### Returns

[`EcdsaSignatureV2`](EcdsaSignatureV2.mdx)

#### Overrides

[`EcdsaSignature`](EcdsaSignature.mdx).[`constructor`](EcdsaSignature.mdx#constructors)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:220](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L220)

## Properties

### ~~r~~

```ts
r: AlmostForeignField;
```

#### Inherited from

[`EcdsaSignature`](EcdsaSignature.mdx).[`r`](EcdsaSignature.mdx#r)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:36](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L36)

***

### ~~s~~

```ts
s: AlmostForeignField;
```

#### Inherited from

[`EcdsaSignature`](EcdsaSignature.mdx).[`s`](EcdsaSignature.mdx#s)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:37](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L37)

***

### ~~\_Curve?~~

```ts
static optional _Curve: typeof ForeignCurve;
```

#### Inherited from

[`EcdsaSignature`](EcdsaSignature.mdx).[`_Curve`](EcdsaSignature.mdx#_curve)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:196](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L196)

***

### ~~\_provable?~~

```ts
static optional _provable: ProvablePureExtended<EcdsaSignature, {
  "r": bigint;
  "s": bigint;
 }, {
  "r": string;
  "s": string;
}>;
```

#### Inherited from

[`EcdsaSignature`](EcdsaSignature.mdx).[`_provable`](EcdsaSignature.mdx#_provable)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:197](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L197)

## Accessors

### ~~Constructor~~

```ts
get Constructor(): typeof EcdsaSignature
```

#### Returns

*typeof* [`EcdsaSignature`](EcdsaSignature.mdx)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:193](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L193)

***

### ~~Curve~~

```ts
get static Curve(): typeof ForeignCurve
```

The [ForeignCurve](ForeignCurve.mdx) on which the ECDSA signature is defined.

#### Returns

*typeof* [`ForeignCurve`](ForeignCurve.mdx)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:206](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L206)

***

### ~~provable~~

```ts
get static provable(): ProvablePureExtended<EcdsaSignature, {
  "r": bigint;
  "s": bigint;
 }, {
  "r": string;
  "s": string;
}>
```

`Provable<EcdsaSignature>`

#### Returns

`ProvablePureExtended`\<[`EcdsaSignature`](EcdsaSignature.mdx), \{
  `"r"`: `bigint`;
  `"s"`: `bigint`;
 \}, \{
  `"r"`: `string`;
  `"s"`: `string`;
 \}\>

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:213](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L213)

## Methods

### ~~toBigInt()~~

```ts
toBigInt(): {
  "r": bigint;
  "s": bigint;
}
```

Convert this signature to an object with bigint fields.

#### Returns

```ts
{
  "r": bigint;
  "s": bigint;
}
```

##### ~~r~~

```ts
r: bigint;
```

##### ~~s~~

```ts
s: bigint;
```

#### Inherited from

[`EcdsaSignature`](EcdsaSignature.mdx).[`toBigInt`](EcdsaSignature.mdx#tobigint)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:71](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L71)

***

### ~~verify()~~

```ts
verify(message: Bytes, publicKey: FlexiblePoint): Bool
```

#### Parameters

• **message**: `Bytes`

• **publicKey**: `FlexiblePoint`

#### Returns

[`Bool`](Bool.mdx)

#### Inherited from

[`EcdsaSignature`](EcdsaSignature.mdx).[`verify`](EcdsaSignature.mdx#verify)

#### Deprecated

There is a security vulnerability in this method. Use [verifyV2](EcdsaSignature.mdx#verifyv2) instead.

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:78](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L78)

***

### ~~verifySignedHash()~~

```ts
verifySignedHash(msgHash: bigint | AlmostForeignField, publicKey: FlexiblePoint): Bool
```

#### Parameters

• **msgHash**: `bigint` \| [`AlmostForeignField`](AlmostForeignField.mdx)

• **publicKey**: `FlexiblePoint`

#### Returns

[`Bool`](Bool.mdx)

#### Inherited from

[`EcdsaSignature`](EcdsaSignature.mdx).[`verifySignedHash`](EcdsaSignature.mdx#verifysignedhash)

#### Deprecated

There is a security vulnerability in this method. Use [verifySignedHashV2](EcdsaSignature.mdx#verifysignedhashv2) instead.

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:127](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L127)

***

### ~~verifySignedHashV2()~~

```ts
verifySignedHashV2(msgHash: bigint | AlmostForeignField, publicKey: FlexiblePoint): Bool
```

Verify the ECDSA signature given the message hash (a [Scalar](Scalar.mdx)) and public key (a [Curve](EcdsaSignature.mdx#curve) point).

This is a building block of [EcdsaSignature.verify](EcdsaSignature.mdx#verify), where the input message is also hashed.
In contrast, this method just takes the message hash (a curve scalar) as input, giving you flexibility in
choosing the hashing algorithm.

#### Parameters

• **msgHash**: `bigint` \| [`AlmostForeignField`](AlmostForeignField.mdx)

• **publicKey**: `FlexiblePoint`

#### Returns

[`Bool`](Bool.mdx)

#### Inherited from

[`EcdsaSignature`](EcdsaSignature.mdx).[`verifySignedHashV2`](EcdsaSignature.mdx#verifysignedhashv2)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:148](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L148)

***

### ~~verifyV2()~~

```ts
verifyV2(message: Bytes, publicKey: FlexiblePoint): Bool
```

Verify the ECDSA signature given the message (an array of bytes) and public key (a [Curve](EcdsaSignature.mdx#curve) point).

**Important:** This method returns a [Bool](Bool.mdx) which indicates whether the signature is valid.
So, to actually prove validity of a signature, you need to assert that the result is true.

#### Parameters

• **message**: `Bytes`

• **publicKey**: `FlexiblePoint`

#### Returns

[`Bool`](Bool.mdx)

#### Inherited from

[`EcdsaSignature`](EcdsaSignature.mdx).[`verifyV2`](EcdsaSignature.mdx#verifyv2)

#### Throws

if one of the signature scalars is zero or if the public key is not on the curve.

#### Example

```ts
// create classes for your curve
class Secp256k1 extends createForeignCurve(Crypto.CurveParams.Secp256k1) {}
class Scalar extends Secp256k1.Scalar {}
class Ecdsa extends createEcdsa(Secp256k1) {}

let message = 'my message';
let messageBytes = new TextEncoder().encode(message);

// outside provable code: create inputs
let privateKey = Scalar.random();
let publicKey = Secp256k1.generator.scale(privateKey);
let signature = Ecdsa.sign(messageBytes, privateKey.toBigInt());

// ...
// in provable code: create input witnesses (or use method inputs, or constants)
let pk = Provable.witness(Secp256k1.provable, () => publicKey);
let msg = Provable.witness(Provable.Array(Field, 9), () => messageBytes.map(Field));
let sig = Provable.witness(Ecdsa.provable, () => signature);

// verify signature
let isValid = sig.verify(msg, pk);
isValid.assertTrue('signature verifies');
```

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:118](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L118)

***

### ~~check()~~

```ts
static check(signature: EcdsaSignatureV2): void
```

#### Parameters

• **signature**: [`EcdsaSignatureV2`](EcdsaSignatureV2.mdx)

#### Returns

`void`

#### Overrides

[`EcdsaSignature`](EcdsaSignature.mdx).[`check`](EcdsaSignature.mdx#check)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:227](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L227)

***

### ~~from()~~

```ts
static from(signature: FlexibleSignature): EcdsaSignature
```

Coerce the input to a [EcdsaSignature](EcdsaSignature.mdx).

#### Parameters

• **signature**: `FlexibleSignature`

#### Returns

[`EcdsaSignature`](EcdsaSignature.mdx)

#### Inherited from

[`EcdsaSignature`](EcdsaSignature.mdx).[`from`](EcdsaSignature.mdx#from)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:54](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L54)

***

### ~~fromHex()~~

```ts
static fromHex(rawSignature: string): EcdsaSignature
```

Create an [EcdsaSignature](EcdsaSignature.mdx) from a raw 130-char hex string as used in
[Ethereum transactions](https://ethereum.org/en/developers/docs/transactions/#typed-transaction-envelope).

#### Parameters

• **rawSignature**: `string`

#### Returns

[`EcdsaSignature`](EcdsaSignature.mdx)

#### Inherited from

[`EcdsaSignature`](EcdsaSignature.mdx).[`fromHex`](EcdsaSignature.mdx#fromhex)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:63](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L63)

***

### ~~sign()~~

```ts
static sign(message: Uint8Array | (number | bigint)[], privateKey: bigint): EcdsaSignature
```

Create an [EcdsaSignature](EcdsaSignature.mdx) by signing a message with a private key.

Note: This method is not provable, and only takes JS bigints as input.

#### Parameters

• **message**: `Uint8Array` \| (`number` \| `bigint`)[]

• **privateKey**: `bigint`

#### Returns

[`EcdsaSignature`](EcdsaSignature.mdx)

#### Inherited from

[`EcdsaSignature`](EcdsaSignature.mdx).[`sign`](EcdsaSignature.mdx#sign)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:167](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L167)

***

### ~~signHash()~~

```ts
static signHash(msgHash: bigint, privateKey: bigint): EcdsaSignature
```

Create an [EcdsaSignature](EcdsaSignature.mdx) by signing a message hash with a private key.

This is a building block of [EcdsaSignature.sign](EcdsaSignature.mdx#sign), where the input message is also hashed.
In contrast, this method just takes the message hash (a curve scalar) as input, giving you flexibility in
choosing the hashing algorithm.

Note: This method is not provable, and only takes JS bigints as input.

#### Parameters

• **msgHash**: `bigint`

• **privateKey**: `bigint`

#### Returns

[`EcdsaSignature`](EcdsaSignature.mdx)

#### Inherited from

[`EcdsaSignature`](EcdsaSignature.mdx).[`signHash`](EcdsaSignature.mdx#signhash)

#### Source

[lib/provable/crypto/foreign-ecdsa.ts:182](https://github.com/o1-labs/o1js/blob/72b8e2c2b9aaba4b5c12257bdd63dfe2676a3d99/src/lib/provable/crypto/foreign-ecdsa.ts#L182)
